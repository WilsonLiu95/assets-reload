!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CdnAssetsSwitch=t():e.CdnAssetsSwitch=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){function n(e){this.replaceFunc=e,this.switchCache={SCRIPT:[],IMAGE:[],LINK:[],BACKGROUNDIMAGE:[]}}n.prototype={reset:function(){try{this.relaceScriptSrc(),this.replaceLinkStyle(),this.replaceBackGroundImage(),this.relaceImgSrc(),this.hackWebpack()}catch(e){console.error(e)}},extendAttr:function(e,t){var r={},n={crossorigin:"crossOrigin"};for(const o in e.attributes)if(e.attributes.hasOwnProperty(o)){const i=e.attributes[o];var c=n[i.name]||i.name;r[c]=i.value,-1!=["onerror","onload","onabort"].indexOf(c)?t[c]=e[c]:t[i.name]=i.value}return this.switchCache[e.nodeName].push(r),r},relaceScriptSrc:function(){var e=document.querySelectorAll("script");if(0==e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t];this.replaceOneScript(r)}},replaceLinkStyle:function(){var e=document.querySelectorAll("link");if(0==e.length)return!1;for(var t=0;t<e.length;t++){var r=e[t],n=this;this.replaceOneLink(r,function(){n.replaceBackGroundImage()})}},replaceOneScript:function(e){var t=e.src,r=this.replaceFunc(t,"script",e);if(r){var n=document.createElement("script");this.extendAttr(e,n),n.src=r,e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)}},replaceOneLink:function(e,t){var r=this.replaceFunc(e.href,"link",e);if(r){var n=document.createElement("link");this.extendAttr(e,n),n.href=r,t&&(n.onload?n.onload=function(){t(),n.onload(arguments)}:n.onload=t),e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)}},replaceBackGroundImage:function(){if(!document.styleSheets||!document.styleSheets[0])return!1;for(var e=document.styleSheets.length,t=0;t<e;t++){var r=document.styleSheets[t];try{if(!(r.rules&&r.rules.length>0))continue;for(var n=0;n<r.rules.length;n++){var c=r.rules[n],o=c.selectorText&&c.style&&c.style.backgroundImage;if(o){var i=this.replaceFunc(o,"backgroundImage",c);if(i){var a=c.selectorText+"{ background-image:"+i+"}",u=t+a;-1!=this.switchCache.BACKGROUNDIMAGE.indexOf(u)&&(this.switchCache.BACKGROUNDIMAGE.push(u),r.insertRule(a,r.rules.length))}}}}catch(e){}}},relaceImgSrc:function(){for(var e=document.querySelectorAll("img"),t=0;t<e.length;t++){var r=e[t],n=this.replaceFunc(r.src,"imgage",r);n&&(this.switchCache.IMAGE.push(r.src),r.src=n)}},replaceWebpackPublicUrl:function(e){if(!e||!e.p)return!1;window.__webpack_require__=e;var t=this.replaceFunc(r.p,"webpack",e);t&&(r.p=t)},hackWebpack:function(e){var t=this,r=[e=e||"cdnAssetsSwitchWebpack"],n={};n[e]=function(e,r,n){if(n){window.__webpack_require__=n;var c=t.replaceFunc(n.p,"webpack",n);c&&(n.p=c)}};var c=[[e]];(window.webpackJsonp=window.webpackJsonp||[]).push([r,n,c])}},e.exports=n}])});